<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Molssi Driver Interface Library: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Molssi Driver Interface Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Molssi Driver Interface Library Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="overview_sec"></a>
Overview</h1>
<p>The MolSSI Driver Interface (MDI) library enables codes to interoperate via the MDI.</p>
<h1><a class="anchor" id="source_sec"></a>
Source Code</h1>
<p>The source code of the MDI library is available at GitHub at <a href="https://github.com/MolSSI/MDI_Library">https://github.com/MolSSI/MDI_Library</a></p>
<h1><a class="anchor" id="main_doc_sec"></a>
Main Documentation</h1>
<p><a class="el" href="tutorials.html">Tutorials</a></p>
<h1><a class="anchor" id="commands_sec"></a>
MDI Standard</h1>
<h2><a class="anchor" id="initialization_options"></a>
MDI Initialization Options</h2>
<dl class="section user"><dt></dt><dd><b> -role: </b> The role of this code in the context of MDI communication. Valid arguments are DRIVER and ENGINE <br  />
 <b> -name: </b> A short string that identifies this code. See the <code>&lt;NAME</code> command for more information. <br  />
 <b> -method: </b> The method by which MDI will handle communication between the codes. Valid arguments are MPI and TCP. <br  />
 <b> -hostname: </b> For ENGINES, when using the TCP communication method, specifies the hostname of the driver. <br  />
 <b> -port: </b> When using the TCP communication method, specifies the port at which the driver will listen for incoming connections.</dd></dl>
<h2><a class="anchor" id="command_list"></a>
Command List</h2>
<p>The following is a list of commands that are officially part of the MDI standard.</p>
<p>All physical quantities communicated through MDI must be expressed in atomic units.</p>
<h3><a class="anchor" id="atomic_step"></a>
ATOM_STEP</h3>
<p>The engine performs a time propagation step for the atomic coordinates. The engine updates its energy, which can be queried with the <code>&lt;ENERGY</code> command.</p>
<h3><a class="anchor" id="set_cell"></a>
&gt;CELL</h3>
<p>The driver sends a set of cell vectors to the engine, which resizes its simulation cell to the dimensions specified by the cell vectors.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> 9 <br  />
 <b> Injection: </b> Immediate <br  />
 <b> Note: </b> In the case of a quantum chemistry code that uses a plane wave basis set, the engine will recalculate the g-vectors either immediately or at the beginning of the next SCF command.</dd></dl>
<h3><a class="anchor" id="recv_cell"></a>
&lt;CELL</h3>
<p>The engine sends a set of cell vectors to the driver, in the same format as specified for the <code>&gt;CELL</code> command.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> 9</dd></dl>
<h3><a class="anchor" id="send_charges"></a>
&gt;CHARGES</h3>
<p>The driver sends a set of atomic charges to the engine, which replaces its atomic charges with those sent by the driver.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code>&lt;NATOMS</code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index <br  />
 <b> Injection: </b> Immediate <br  />
</dd></dl>
<h3><a class="anchor" id="recv_charges"></a>
&lt;CHARGES</h3>
<p>The engine sends a set of atomic charges to the driver, in the same format as specified for the <code>&gt;CHARGES</code> command.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code>&lt;NATOMS</code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index</dd></dl>
<h3><a class="anchor" id="send_coords"></a>
&gt;COORDS</h3>
<p>The driver sends a set of atomic coordinates to the engine, which replaces its atomic coordinates with those sent by the driver.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the coordinates for each individual atom being provided in xyz order <br  />
 <b> Injection: </b> Immediate</dd></dl>
<h3><a class="anchor" id="recv_coords"></a>
&lt;COORDS</h3>
<p>The engine sends a set of atomic coordinates to the driver.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the coordinates for each individual atom being provided in xyz order</dd></dl>
<h3><a class="anchor" id="recv_energy"></a>
&lt;ENERGY</h3>
<p>The engine sends its most recently calculated energy to the driver. The <code>MD_INIT</code>, <code>SCF</code>, and <code>ATOM_STEP</code> commands can be used to cause the engine to calculate a new energy.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> 1</dd></dl>
<h3><a class="anchor" id="exit_command"></a>
EXIT</h3>
<p>The engine terminates and can no longer be sent commands.</p>
<h3><a class="anchor" id="send_forces"></a>
&gt;FORCES</h3>
<p>The driver sends a set of atomic forces to the engine, which replaces its internal forces with the forces sent by the driver.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order <br  />
 <b> Injection: </b> In response to the <code>ATOM_STEP</code> command, after any normal calculation of forces and immediately prior to propagation of the atomic positions</dd></dl>
<h3><a class="anchor" id="send_add_forces"></a>
&gt;+FORCES</h3>
<p>The driver sends a set of atomic forces to the engine, which adds the forces sent by the driver to its internal forces.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order <br  />
 <b> Injection: </b> In response to the <code>ATOM_STEP</code> command, after any normal calculation of forces and immediately prior to propagation of the atomic positions</dd></dl>
<h3><a class="anchor" id="recv_forces"></a>
&lt;FORCES</h3>
<p>The engine calculates and sends a set of atomic forces to the driver. These forces include all force contributions, including the force contributions associated with any constraint algorithm (e.g. SHAKE, RATTLE, etc.).</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order</dd></dl>
<h3><a class="anchor" id="recv_masses"></a>
&lt;MASSES</h3>
<p>The engine sends the driver the mass of each of the atom types.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> &lt;NTYPES </code> <br  />
 <b> Format: </b> Sequentially ascending order of type index (see the <code>&lt;TYPES</code> command)</dd></dl>
<h3><a class="anchor" id="md_init"></a>
MD_INIT</h3>
<p>The engine performs any initialization operations that are necessary before an MD simulation can be time propagated through the use of the <code>ATOM_STEP</code> command. This engine calculates the energy of the system, which can be queried by the <code>&lt;ENERGY</code> command.</p>
<dl class="section user"><dt></dt><dd><b> Note: </b> This command may change the engine's atomic coordinates under certain circumstances, such as if the SHAKE algorithm is used.</dd></dl>
<h3><a class="anchor" id="send_name"></a>
&lt;NAME</h3>
<p>The engine sends the driver a string that corresponds to the argument of <code>-name</code> in the MDI initialization options. This argument allows a driver to identify the purpose of connected engine codes within the simulation. For example, a particular QM/MM driver might require a connection with a single MM code and a single QM code, with the expected name of the MM code being "MM" and the expected name of the QM code being "QM". After initializing MDI and accepting communicators to the engines, the driver can use this command to identify which of the engines is the MM code and which is the QM code.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_CHAR <br  />
 <b> Quantity: </b> <code> MDI_NAME_LENGTH </code></dd></dl>
<h3><a class="anchor" id="recv_natoms"></a>
&lt;NATOMS</h3>
<p>The engine sends the driver the number of atoms in the engine's system.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_INT <br  />
 <b> Quantity: </b> 1</dd></dl>
<h3><a class="anchor" id="recv_types"></a>
&lt;NTYPES</h3>
<p>The engine sends the driver the number of different types of atoms (e.g. "H", "He", "C", "O", etc.) in the engine's system.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_INT <br  />
 <b> Quantity: </b> 1</dd></dl>
<h3><a class="anchor" id="send_preforces"></a>
&gt;PRE-FORCES</h3>
<p>The driver sends a set of atomic forces to the engine, which replaces its internal forces with the forces sent by the driver.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order <br  />
 <b> Injection: </b> In response to the <code>ATOM_STEP</code> command, after calculation of all forces except those related to constraint algorithms (e.g. SHAKE, RATTLE, etc.) and prior to application of any constraint algorithms</dd></dl>
<h3><a class="anchor" id="send_add_preforces"></a>
&gt;+PRE-FORCES</h3>
<p>The driver sends a set of atomic forces to the engine, which adds the forces sent by the driver to its internal forces.</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order <br  />
 <b> Injection: </b> In response to the <code>ATOM_STEP</code> command, after calculation of all forces except those related to constraint algorithms (e.g. SHAKE, RATTLE, etc.) and prior to application of any constraint algorithms</dd></dl>
<h3><a class="anchor" id="recv_preforces"></a>
&lt;PRE-FORCES</h3>
<p>The engine calculates and sends a set of atomic forces to the driver. These forces include all force contributions except those associated with any constraint algorithm (e.g. SHAKE, RATTLE, etc.).</p>
<dl class="section user"><dt></dt><dd><b> Data Type: </b> MDI_DOUBLE <br  />
 <b> Quantity: </b> <code> 3 * &lt;NATOMS </code> <br  />
 <b> Format: </b> Sequentially ascending order of atomic index, with the forces for each individual atom being provided in xyz order</dd></dl>
<h3><a class="anchor" id="scf_command"></a>
SCF</h3>
<p>The engine performs a full self-consistent field calculation in order to relax the electronic density distribution. The engine updates its energy, which can be queried with the <code>&lt;ENERGY</code> command. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
